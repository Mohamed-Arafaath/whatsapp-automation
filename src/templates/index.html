<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Cold Messaging</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <header>
            <h1>ðŸ“± WhatsApp Cold Messaging</h1>
            <p>Automate your WhatsApp outreach</p>
        </header>

        <div class="main-grid">
            <!-- Left Panel: Controls -->
            <div class="panel controls-panel">
                <h2>Setup</h2>

                <!-- Step 1: Upload File -->
                <div class="step">
                    <h3>1. Upload Excel File</h3>
                    <div class="upload-zone" id="uploadZone">
                        <input type="file" id="fileInput" accept=".xlsx,.xls" hidden>
                        <div class="upload-content">
                            <span class="upload-icon">ðŸ“„</span>
                            <p>Click or drag Excel file here</p>
                            <small>Must contain "Phone Number" column</small>
                        </div>
                    </div>
                    <div id="fileStatus" class="status-message"></div>
                    <button id="clearFileBtn" class="btn btn-secondary" style="display: none; margin-top: 10px;">Upload
                        New File</button>
                </div>

                <!-- Step 2: Connect WhatsApp -->
                <div class="step">
                    <h3>2. Connect WhatsApp</h3>
                    <div class="button-group">
                        <button id="connectBtn" class="btn btn-primary">Connect WhatsApp</button>
                        <button id="disconnectBtn" class="btn btn-secondary" style="display: none;">Disconnect</button>
                    </div>
                    <div id="connectionStatus" class="status-message"></div>
                    <div id="qrContainer" class="qr-container" style="display: none;">
                        <img id="qrCode" alt="QR Code">
                        <p>Scan with WhatsApp</p>
                    </div>
                </div>

                <!-- Step 3: Configure Message -->
                <div class="step">
                    <h3>3. Configure Message</h3>
                    <textarea id="messageInput" placeholder="Enter your message..." rows="4"></textarea>
                    <div class="input-group">
                        <label for="countInput">Number of contacts:</label>
                        <input type="number" id="countInput" min="1" value="10">
                    </div>
                </div>

                <!-- Step 4: Start/Stop -->
                <div class="step">
                    <h3>4. Control</h3>
                    <div class="button-group">
                        <button id="startBtn" class="btn btn-success" disabled>Start Sending</button>
                        <button id="stopBtn" class="btn btn-danger" disabled>Stop</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Status & Logs -->
            <div class="panel status-panel">
                <h2>Status</h2>

                <!-- Progress -->
                <div class="progress-section">
                    <div class="stat-card">
                        <span class="stat-label">Messages Sent</span>
                        <span class="stat-value" id="sentCount">0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Total</span>
                        <span class="stat-value" id="totalCount">0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Current</span>
                        <span class="stat-value small" id="currentContact">-</span>
                    </div>
                </div>

                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>

                <!-- Logs -->
                <div class="logs-section">
                    <h3>Activity Log</h3>
                    <div id="logs" class="logs"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>